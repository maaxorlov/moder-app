window.isMobile = !1; if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) { window.isMobile = !0 }
window.isiOS = !1; if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) { window.isiOS = !0 }
window.isiOSVersion = ''; if (window.isiOS) { var version = (navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/); if (version !== null) { window.isiOSVersion = [parseInt(version[1], 10), parseInt(version[2], 10), parseInt(version[3] || 0, 10)] } }
function t_throttle(fn, threshhold, scope) { var last; var deferTimer; threshhold || (threshhold = 250); return function () { var context = scope || this; var now = +new Date(); var args = arguments; if (last && now < last + threshhold) { clearTimeout(deferTimer); deferTimer = setTimeout(function () { last = now; fn.apply(context, args) }, threshhold) } else { last = now; fn.apply(context, args) } } }
function t690_onSuccess(form) {
    if (!(form instanceof Element)) form = form[0]; var inputsWrapper = form.querySelector('.t-form__inputsbox'); var inputsWrapperStyle = getComputedStyle(inputsWrapper, null); var inputsWrapperPaddingTop = parseInt(inputsWrapperStyle.paddingTop) || 0; var inputsWrapperPaddingBottom = parseInt(inputsWrapperStyle.paddingBottom) || 0; var inputsWrapperHeight = inputsWrapper.clientHeight - (inputsWrapperPaddingTop + inputsWrapperPaddingBottom); var inputsOffset = inputsWrapper.getBoundingClientRect().top + window.pageYOffset; var inputsBottom = inputsWrapperHeight + inputsOffset; var successBox = form.querySelector('.t-form__successbox'); var successBoxOffset = successBox.getBoundingClientRect().top + window.pageYOffset; var target = 0; var windowHeight = window.innerHeight; var body = document.body; var html = document.documentElement; var documentHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight); if (window.innerWidth > 960) { target = successBoxOffset - 200 } else { target = successBoxOffset - 100 }
    var tildaLabel = document.querySelector('.t-tildalabel'); if (successBoxOffset > window.scrollY || (documentHeight - inputsBottom) < (windowHeight - 100)) { inputsWrapper.classList.add('t690__inputsbox_hidden'); setTimeout(function () { if (windowHeight > documentHeight && tildaLabel) { t690__fadeOut(tildaLabel) } }, 300) } else { t690__scroll(target); setTimeout(function () { inputsWrapper.classList.add('t690__inputsbox_hidden') }, 400) }
    var successUrl = $(form).data('success-url'); if (successUrl) { setTimeout(function () { window.location.href = successUrl }, 500) }
}
function t690__fadeOut(el) { if (el.style.display === 'none') return; var opacity = 1; var timer = setInterval(function () { el.style.opacity = opacity; opacity -= 0.1; if (opacity <= 0.1) { clearInterval(timer); el.style.display = 'none'; el.style.opacity = null } }, 50) }
function t690__scroll(target) {
    var duration = 400; var start = (window.pageYOffset || document.documentElement.scrollTop) - (document.documentElement.clientTop || 0); var change = target - start; var currentTime = 0; var increment = 16; document.body.setAttribute('data-scrollable', 'true'); function t690__easeInOutCubic(currentTime, change) { if ((currentTime /= duration / 2) < 1) { return change / 2 * currentTime * currentTime * currentTime + start } else { return change / 2 * ((currentTime -= 2) * currentTime * currentTime + 2) + start } }
    function t690__animateScroll() { currentTime += increment; window.scrollTo(0, t690__easeInOutCubic(currentTime, change)); if (currentTime < duration) { setTimeout(t690__animateScroll, increment) } else { document.body.removeAttribute('data-scrollable') } }
    t690__animateScroll()
}
function t830_init(recid) {
    var rec = document.getElementById('rec' + recid); var allRec = document.getElementById('allrecords'); if (!allRec || !rec) return; var panel = rec.querySelector('.t830__panel'); var overlay = rec.querySelector('.t830m__overlay'); var menu = rec.querySelector('.t830m'); var submenu = rec.querySelector('.t830m__submenu'); var burger = rec.querySelector('.t830__side .t830__burger'); var menuItemList = rec.querySelectorAll('.t830m__list-title a'); var submenuItemList = rec.querySelectorAll('.t830m__submenu-item a'); t830_initMenu(rec, menu, burger, overlay); t830_removePadding(rec, allRec); t830_calcCol(rec, menu, allRec); t830_menuHighlight(); t830_openSubmenu(rec); t830_hoverShowMenu(rec, menu, panel, overlay, burger); window.addEventListener('resize', function () { t830_calcCol(rec, menu, allRec); t830_removePadding(rec, allRec); if (menu && menu.classList.contains('t830m_close') && window.innerWidth > 1499) { if (overlay) overlay.classList.remove('t830m__menu_show') } }); if (submenu && submenu.classList.contains('t830m__submenu_close')) { t830_toggleMenu(rec) }
    if (window.innerWidth > 1199) { t830_scrollSideMenu(rec) }
    var isHashNotEmpty = window.location.hash.length !== 0; Array.prototype.forEach.call(menuItemList, function (menuItem) { menuItem.addEventListener('click', function () { if (isHashNotEmpty) { Array.prototype.forEach.call(menuItemList, function (menuEl) { menuEl.classList.remove('t-active') }); menuItem.classList.add('t-active') } }) }); Array.prototype.forEach.call(submenuItemList, function (submenuItem) { submenuItem.addEventListener('click', function () { if (isHashNotEmpty) { Array.prototype.forEach.call(submenuItemList, function (submenuEl) { submenuEl.classList.remove('t-active') }); submenuItem.classList.add('t-active') } }) }); t830_checkAnchorLinks(recid)
}
function t830_calcCol(rec, menu, allrecords) { if (window.innerWidth <= 1199 || !menu || window.getComputedStyle(rec).display === 'none') return; var label = document.querySelector('.t-tildalabel'); if (menu.classList.contains('t830m_open')) { if (allrecords) allrecords.classList.add('t830__allrecords_padd-small'); if (label) label.classList.add('t830__t-tildalabel_padd-small') } else { if (allrecords) allrecords.classList.add('t830__allrecords_padd'); if (label) label.classList.add('t830__t-tildalabel_padd') } }
function t830_toggleMenu(rec) { var titleList = rec.querySelectorAll('.t830m__list-title_toggle'); Array.prototype.forEach.call(titleList, function (listTitle) { listTitle.addEventListener('click', function () { var submenu = listTitle.nextElementSibling; var textTitle = listTitle.querySelector('.t830m__list-title-text'); t830_slideToggle(submenu); if (textTitle) textTitle.classList.toggle('t830m__list-title-text_opacity'); if (textTitle) textTitle.classList.toggle('t-menu__link-item') }) }) }
function t830_openSubmenu(rec) { var activeLink = rec.querySelector('.t830m__submenu-item a.t-active'); var submenu = activeLink ? activeLink.closest('.t830m__submenu') : null; if (submenu) submenu.style.display = 'block' }
function t830_hoverShowMenu(rec, menu, panel, overlay, burger) {
    if (window.innerWidth <= 1199 || !panel || !panel.classList.contains('t830__panel_hover')) return; panel.addEventListener('mouseenter', function () { if (menu) menu.classList.add('t830m__menu_show'); if (burger) burger.classList.add('t830__burger_open'); if (overlay) overlay.classList.add('t830m__overlay_hover') }); if (menu) { menu.addEventListener('mouseleave', function () { menu.classList.remove('t830m__menu_show'); if (burger) burger.classList.remove('t830__burger_open') }) }
    if (overlay) { overlay.addEventListener('mouseenter', function () { overlay.classList.remove('t830m__overlay_hover'); if (burger) burger.classList.remove('t830__burger_open'); if (menu) menu.classList.remove('t830m__menu_show') }) }
    var menuLinks = menu.querySelectorAll('a'); Array.prototype.forEach.call(menuLinks, function (link) { link.addEventListener('click', function () { menu.classList.remove('t830m__menu_show'); if (burger) burger.classList.remove('t830__burger_open') }) }); if (burger) { burger.addEventListener('click', function () { if (burger.classList.contains('t830__burger_open')) { t830_closeMenu(rec, menu, overlay); burger.classList.remove('t830__burger_open') } else { burger.classList.add('t830__burger_open'); if (menu) menu.classList.add('t830m__menu_show'); if (overlay) overlay.classList.add('t830m__overlay_hover') } }) }
}
function t830_showMenu(rec, menu, burger, overlay) { var panel = rec.querySelector('.t830__panel'); document.body.classList.add('t830__body_menushowed'); if (overlay) overlay.classList.add('t830m__menu_show'); if (menu) menu.classList.add('t830m__menu_show'); var closedMenuEls = rec.querySelectorAll('.t830m__overlay, .t830m__close, a[href*="#"]'); closedMenuEls = Array.prototype.filter.call(closedMenuEls, function (el) { return !(el.classList.contains('tooltipstered') || el.classList.contains('t794__tm-link') || el.classList.contains('t978__tm-link') || el.classList.contains('t966__tm-link')) }); closedMenuEls.forEach(function (el) { el.addEventListener('click', function () { t830_closeMenu(rec, menu, overlay); if (burger) burger.classList.remove('t830__burger_open') }) }); if (panel) panel.classList.add('t830__panel_close'); var popupBg = document.querySelector('.t-site-search-popup__background'); document.addEventListener('keydown', function (e) { if (e.keyCode !== 27 || popupBg) return; document.body.classList.remove('t830__body_menushowed'); if (menu) menu.classList.remove('t830m__menu_show'); if (burger) burger.classList.remove('t830__burger_open'); if (overlay) overlay.classList.remove('t830m__menu_show') }) }
function t830_closeMenu(rec, menu, overlay) {
    var panel = rec.querySelector('.t830__panel'); if (menu && menu.classList.contains('t830m_open') && window.innerWidth < 1500) { if (panel) panel.classList.remove('t830__panel_close') }
    document.body.classList.remove('t830__body_menushowed'); if (menu) menu.classList.remove('t830m__menu_show'); if (overlay) overlay.classList.remove('t830m__menu_show')
}
function t830_initMenu(rec, menu, burger, overlay) {
    if (!rec) return; var panel = rec.querySelector('.t830__panel'); var menuContent = rec.querySelector('.t830__menu__content'); if (typeof jQuery !== 'undefined') { $('.t830').bind('clickedAnchorInTooltipMenu', function () { t830_closeMenu(rec, menu, overlay) }) } else { var menuBlock = document.querySelector('.t830'); if (menuBlock) { menuBlock.addEventListener('clickedAnchorInTooltipMenu', function () { t830_closeMenu(rec, menu, overlay) }) } }
    if (!panel || !menuContent || !menu) return; if (panel.classList.contains('t830__panel_click') || (panel.classList.contains('t830__panel_hover') && window.innerWidth <= 1199)) { menuContent.addEventListener('click', function (e) { if (menu.classList.contains('t830m__menu_show')) { if (burger) burger.classList.remove('t830__burger_open'); t830_closeMenu(rec, menu, overlay) } else { if (burger) burger.classList.add('t830__burger_open'); t830_showMenu(rec, menu, burger, overlay) } }) }
}
function t830_menuHighlight() {
    var url = window.location.href; var pathname = window.location.pathname; var hash = window.location.hash; if (url.substr(url.length - 1) === '/') { url = url.slice(0, -1) }
    if (pathname.substr(pathname.length - 1) === '/') { pathname = pathname.slice(0, -1) }
    if (pathname.charAt(0) === '/') { pathname = pathname.slice(1) }
    if (pathname === '') { pathname = '/' }
    var shouldBeActiveElements = document.querySelectorAll('.t830m__list-title a[href=\'' + url + '\'], ' + '.t830m__list-title a[href=\'' + url + '/\'], ' + '.t830m__list-title a[href=\'' + pathname + '\'], ' + '.t830m__list-title a[href=\'/' + pathname + '\'], ' + '.t830m__list-title a[href=\'' + pathname + '/\'], ' + '.t830m__list-title a[href=\'/' + pathname + '/\'], ' + '.t830m__submenu-item a[href=\'' + url + '\'], ' + '.t830m__submenu-item a[href=\'' + url + '/\'], ' + '.t830m__submenu-item a[href=\'' + pathname + '\'], ' + '.t830m__submenu-item a[href=\'/' + pathname + '\'], ' + '.t830m__submenu-item a[href=\'' + pathname + '/\'], ' + '.t830m__submenu-item a[href=\'/' + pathname + '/\']' + (hash ? ', .t450__menu a[href=\'' + hash + '\']' : '')); Array.prototype.forEach.call(shouldBeActiveElements, function (link) { link.classList.add('t-active') })
}
function t830_scrollSideMenu(rec) { var container = rec ? rec.querySelector('.t830m__container') : null; if (!container) return; var events = ['scroll', 'wheel', 'DOMMouseScroll', 'mousewheel']; events.forEach(function (event) { container.addEventListener(event, function (e) { var searchResult = rec.querySelector('.t-site-search-dm'); if (!searchResult) { t830_stopScroll(container, e) } }) }) }
function t830_stopScroll(container, eventScroll) { var scrollTop = container.scrollTop; var scrollHeight = container.scrollHeight; var height = container.offsetHeight; var delta = eventScroll.type === 'DOMMouseScroll' ? eventScroll.detail * -40 : eventScroll.wheelDelta; var up = delta > 0; var prevent = function () { eventScroll.stopPropagation(); eventScroll.preventDefault(); eventScroll.returnValue = !1; return !1 }; if (!up && -delta > scrollHeight - height - scrollTop) { container.scrollTo(0, scrollHeight); return prevent() } else if (up && delta > scrollTop) { container.scrollTo(0, 0); return prevent() } }
function t830_removePadding(rec, allrecords) { if (!allrecords || !rec || window.getComputedStyle(rec).display !== 'none') return; allrecords.style.paddingLeft = '0'; var label = document.querySelector('.t-tildalabel'); if (label) label.style.paddingLeft = '0' }
function t830_checkAnchorLinks(recid) { var rec = document.getElementById('rec' + recid); if (window.innerWidth < 980 || !rec) return; var navLinks = rec ? rec.querySelectorAll('.t830m__list a[href*=\'#\']') : []; navLinks = Array.prototype.filter.call(navLinks, function (navLink) { return !navLink.classList.contains('tooltipstered') }); if (navLinks.length) { setTimeout(function () { t830_catchScroll(navLinks) }, 500) } }
function t830_catchScroll(navLinks) {
    navLinks = Array.prototype.slice.call(navLinks); var clickedSectionID = null; var sections = []; var sectionToNavigationLinkID = {}; var interval = 100; var lastCall; var timeoutID; navLinks = navLinks.reverse(); navLinks.forEach(function (link) { var currentSection = t830_getSectionByHref(link); if (currentSection && currentSection.id) { sections.push(currentSection); sectionToNavigationLinkID[currentSection.id] = link } }); t830_updateSectionsOffsets(sections); sections.sort(function (a, b) { var firstTopOffset = parseInt(a.getAttribute('data-offset-top'), 10) || 0; var secondTopOffset = parseInt(b.getAttribute('data-offset-top'), 10) || 0; return secondTopOffset - firstTopOffset }); window.addEventListener('resize', t_throttle(function () { t830_updateSectionsOffsets(sections) }, 200)); if (typeof jQuery !== 'undefined') { $('.t830').bind('displayChanged', function () { t830_updateSectionsOffsets(sections) }) } else { var menuEls = document.querySelectorAll('.t830'); Array.prototype.forEach.call(menuEls, function (menu) { menu.addEventListener('displayChanged', function () { t830_updateSectionsOffsets(sections) }) }) }
    setInterval(function () { t830_updateSectionsOffsets(sections) }, 5000); t830_highlightNavLinks(navLinks, sections, sectionToNavigationLinkID, clickedSectionID); navLinks.forEach(function (navLink, i) { navLink.addEventListener('click', function () { var clickedSection = t830_getSectionByHref(navLink); if (!navLink.classList.contains('tooltipstered') && clickedSection && clickedSection.id) { navLinks.forEach(function (link, index) { if (index === i) { link.classList.add('t-active') } else { link.classList.remove('t-active') } }); clickedSectionID = clickedSection.id } }) }); window.addEventListener('scroll', function () { var dateNow = new Date().getTime(); if (lastCall && dateNow < lastCall + interval) { clearTimeout(timeoutID); timeoutID = setTimeout(function () { lastCall = dateNow; clickedSectionID = t830_highlightNavLinks(navLinks, sections, sectionToNavigationLinkID, clickedSectionID) }, interval - (dateNow - lastCall)) } else { lastCall = dateNow; clickedSectionID = t830_highlightNavLinks(navLinks, sections, sectionToNavigationLinkID, clickedSectionID) } })
}
function t830_getSectionByHref(curlink) {
    if (!curlink) return; var href = curlink.getAttribute('href'); var curLinkValue = href ? href.replace(/\s+/g, '') : ''; if (curLinkValue.indexOf('/') === 0) curLinkValue = curLinkValue.slice(1); if (href && curlink.matches('[href*="#rec"]')) { curLinkValue = curLinkValue.replace(/.*#/, ''); return document.getElementById(curLinkValue) } else {
        var selector = href ? href.trim() : ''; var slashIndex = selector.indexOf('#') !== -1 ? selector.indexOf('#') : !1; if (typeof slashIndex === 'number') { selector = selector.slice(slashIndex + 1) } else { slashIndex = selector.indexOf('/') !== -1 ? selector.indexOf('/') : !1; if (typeof slashIndex === 'number') selector = selector.slice(slashIndex + 1) }
        var fullSelector = '.r[data-record-type="215"] a[name="' + selector + '"]'; return document.querySelector(fullSelector) ? document.querySelector(fullSelector).closest('.r') : null
    }
}
function t830_highlightNavLinks(navLinks, sections, sectionToNavigationLinkID, clickedSectionID) {
    var scrollPosition = window.pageYOffset; var scrollHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight); var returnValue = clickedSectionID; var lastSection = sections.length ? sections[sections.length - 1] : null; var lastSectionTopPos = lastSection ? lastSection.getAttribute('data-offset-top') : '0'; lastSectionTopPos = parseInt(lastSectionTopPos, 10) || 0; if (sections.length && clickedSectionID === null && lastSectionTopPos > (scrollPosition + 300)) { navLinks.forEach(function (link) { link.classList.remove('t-active') }); return null }
    for (var i = 0; i < sections.length; i++) {
        var sectionTopPos = sections[i].getAttribute('data-offset-top'); var navLink = sections[i].id ? sectionToNavigationLinkID[sections[i].id] : null; if (scrollPosition + 300 >= sectionTopPos || i === 0 && scrollPosition >= scrollHeight - window.innerHeight) {
            if (clickedSectionID === null && navLink && !navLink.classList.contains('t-active')) { navLinks.forEach(function (link) { link.classList.remove('t-active') }); if (navLink) navLink.classList.add('t-active'); returnValue = null } else if (clickedSectionID !== null && sections[i].id && clickedSectionID === sections[i].id) { returnValue = null }
            break
        }
    }
    return returnValue
}
function t830_updateSectionsOffsets(sections) { sections.forEach(function (section) { var sectionTopPos = section.getBoundingClientRect().top + window.pageYOffset; section.setAttribute('data-offset-top', sectionTopPos) }) }
function t830_slideToggle(target) { if (!target) return; if (target.getAttribute('data-slide') === 'y') return; if (window.getComputedStyle(target).display === 'none') { return t830_slideDown(target) } else { return t830_slideUp(target) } }
function t830_slideUp(target) { if (!target) return; var step = target.offsetHeight / 30; var difference = target.offsetHeight; target.style.overflow = 'hidden'; target.setAttribute('data-slide', 'y'); var timerID = setInterval(function () { difference -= step; target.style.height = difference + 'px'; if (difference <= 0) { target.style.height = ''; target.style.overflow = ''; target.style.display = 'none'; target.removeAttribute('data-slide'); clearInterval(timerID) } }, 10) }
function t830_slideDown(target) { if (!target) return; target.style.display = ''; var currentDisplayValue = window.getComputedStyle(target).display; target.style.display = currentDisplayValue === 'none' ? 'block' : currentDisplayValue; var targetHeight = target.offsetHeight; target.style.height = '0'; target.style.overflow = 'hidden'; target.setAttribute('data-slide', 'y'); var step = targetHeight / 30; var difference = 0; var timerID = setInterval(function () { target.style.height = difference + 'px'; difference += step; if (difference >= targetHeight) { target.style.height = ''; target.style.overflow = ''; target.removeAttribute('data-slide'); clearInterval(timerID) } }, 10) }
function t450_showMenu(recid) {
    var rec = document.getElementById('rec' + recid); if (!rec) return; var menu = rec.querySelector('.t450'); var overlay = rec.querySelector('.t450__overlay'); var menuElements = rec.querySelectorAll('.t450__overlay, .t450__close, a[href*="#"]'); document.body.classList.add('t450__body_menushowed'); if (menu) menu.classList.add('t450__menu_show'); if (overlay) overlay.classList.add('t450__menu_show'); if (menu) { menu.addEventListener('clickedAnchorInTooltipMenu', function () { t450_closeMenu(menu, overlay) }) }
    Array.prototype.forEach.call(menuElements, function (element) { element.addEventListener('click', function () { if (element.closest('.tooltipstered, .t-menusub__target-link, .t794__tm-link, .t966__tm-link, .t978__tm-link')) return; if (element.href && (element.href.substring(0, 7) === '#price:' || element.href.substring(0, 9) === '#submenu:')) return; t450_closeMenu(menu, overlay) }) }); document.addEventListener('keydown', function (e) { if (e.keyCode === 27) { document.body.classList.remove('t390__body_popupshowed'); var popups = document.querySelectorAll('.t390'); Array.prototype.forEach.call(popups, function (popup) { popup.classList.remove('t390__popup_show') }) } }); rec.addEventListener('click', function (e) { if (e.target.closest('.t966__tm-link, .t978__tm-link')) { t450_checkSize(recid); if (e.target.closest('.t978__tm-link')) { setTimeout(function () { var hookLink = e.target.closest('.t978__tm-link'); var menuBlock = hookLink.nextElementSibling; var submenuLinks = menuBlock ? menuBlock.querySelectorAll('.t978__menu-link') : []; Array.prototype.forEach.call(submenuLinks, function (link) { link.addEventListener('click', function () { t450_checkSize(recid) }) }) }, 300) } } }); t450_highlight(recid)
}
function t450_closeMenu(menu, overlay) { document.body.classList.remove('t450__body_menushowed'); if (menu) menu.classList.remove('t450__menu_show'); if (overlay) overlay.classList.remove('t450__menu_show') }
function t450_checkSize(recid) { var rec = document.getElementById('rec' + recid); var menu = rec ? rec.querySelector('.t450') : null; if (!menu) return; var container = menu.querySelector('.t450__container'); var topContainer = menu.querySelector('.t450__top'); var rightContainer = menu.querySelector('.t450__rightside'); setTimeout(function () { var topContainerHeight = topContainer ? topContainer.offsetHeight : 0; var rightContainerHeight = rightContainer ? rightContainer.offsetHeight : 0; var containerPaddingTop = container ? window.getComputedStyle(container).paddingTop : '0'; var containerPaddingBottom = container ? window.getComputedStyle(container).paddingBottom : '0'; containerPaddingTop = parseInt(containerPaddingTop, 10); containerPaddingBottom = parseInt(containerPaddingBottom, 10); if (topContainerHeight + rightContainerHeight + containerPaddingTop + containerPaddingBottom > document.documentElement.clientHeight) { menu.classList.add('t450__overflowed'); if (container) container.style.height = 'auto' } else { menu.classList.remove('t450__overflowed'); if (container) container.style.height = '' } }) }
function t450_appearMenu(recid) {
    var rec = document.getElementById('rec' + recid); var burger = rec ? rec.querySelector('.t450__burger_container') : null; if (!burger) return; var burgerAppearOffset = burger ? burger.getAttribute('data-appearoffset') : ''; var burgerHideOffset = burger ? burger.getAttribute('data-hideoffset') : ''; if (burgerAppearOffset) { burgerAppearOffset = t450_appearMenuParseNumber(burgerAppearOffset); if (window.pageYOffset >= burgerAppearOffset) { if (burger.classList.contains('t450__beforeready')) { burger.classList.remove('t450__beforeready') } } else { burger.classList.add('t450__beforeready') } }
    if (burgerHideOffset) { burgerHideOffset = t450_appearMenuParseNumber(burgerHideOffset); var scrollHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight); if (window.pageYOffset + window.innerHeight >= scrollHeight - burgerHideOffset) { if (!burger.classList.contains('t450__beforeready')) { burger.classList.add('t450__beforeready') } } else if (burgerAppearOffset) { if (window.pageYOffset >= burgerAppearOffset) { burger.classList.remove('t450__beforeready') } } else { burger.classList.remove('t450__beforeready') } }
}
function t450_appearMenuParseNumber(string) {
    if (string.indexOf('vh') > -1) { string = Math.floor((window.innerHeight * (parseInt(string) / 100))) }
    return parseInt(string, 10)
}
function t450_initMenu(recid) {
    var rec = document.getElementById('rec' + recid); var menu = rec ? rec.querySelector('.t450') : null; var overlay = rec ? rec.querySelector('.t450__overlay') : null; var burger = rec ? rec.querySelector('.t450__burger_container') : null; var menuLinks = rec ? rec.querySelectorAll('.t-menu__link-item.t450__link-item_submenu') : []; var hook = menu ? menu.getAttribute('data-tooltip-hook') : ''; if (hook) { document.addEventListener('click', function (e) { if (e.target.closest('a[href="' + hook + '"]')) { e.preventDefault(); t450_closeMenu(menu, overlay); t450_showMenu(recid); t450_checkSize(recid) } }) }
    if (burger) { burger.addEventListener('click', function () { t450_closeMenu(menu, overlay); t450_showMenu(recid); t450_checkSize(recid) }) }
    window.addEventListener('resize', function () { t450_checkSize(recid) }); if (!window.isMobile) return; Array.prototype.forEach.call(menuLinks, function (link) { link.addEventListener('click', function () { t450_checkSize(recid) }) })
}
function t450_highlight(recid) {
    var url = window.location.href; var pathname = window.location.pathname; var hash = window.location.hash; if (url.substr(url.length - 1) === '/') { url = url.slice(0, -1) }
    if (pathname.substr(pathname.length - 1) === '/') { pathname = pathname.slice(0, -1) }
    if (pathname.charAt(0) === '/') { pathname = pathname.slice(1) }
    if (pathname === '') { pathname = '/' }
    var shouldBeActiveElements = document.querySelectorAll('.t450__menu a[href=\'' + url + '\'], ' + '.t450__menu a[href=\'' + url + '/\'], ' + '.t450__menu a[href=\'' + pathname + '\'], ' + '.t450__menu a[href=\'/' + pathname + '\'], ' + '.t450__menu a[href=\'' + pathname + '/\'], ' + '.t450__menu a[href=\'/' + pathname + '/\']' + (hash ? ', .t450__menu a[href=\'' + hash + '\']' : '')); var rec = document.getElementById('rec' + recid); var menuLinks = rec ? rec.querySelectorAll('.t450__menu a') : []; Array.prototype.forEach.call(menuLinks, function (link) { link.classList.remove('t-active') }); Array.prototype.forEach.call(shouldBeActiveElements, function (link) { link.classList.add('t-active') })
}
function t702_initPopup(recId) {
    var rec = document.getElementById('rec' + recId); if (!rec) return; var container = rec.querySelector('.t702'); if (!container) return; rec.setAttribute('data-animationappear', 'off'); rec.setAttribute('data-popup-subscribe-inited', 'y'); rec.style.opacity = 1; var documentBody = document.body; var popup = rec.querySelector('.t-popup'); var popupTooltipHook = popup.getAttribute('data-tooltip-hook'); var analitics = popup.getAttribute('data-track-popup'); var popupCloseBtn = popup.querySelector('.t-popup__close'); var hrefs = rec.querySelectorAll('a[href*="#"]'); var submitHref = rec.querySelector('.t-submit[href*="#"]'); if (popupTooltipHook) { var recBlocks = document.querySelectorAll('.r'); for (var i = 0; i < recBlocks.length; i++) { recBlocks[i].addEventListener('click', function (event) { var target = event.target; var href = target.closest('a[href="' + popupTooltipHook + '"]') ? target : !1; if (!href) return; event.preventDefault(); t702_showPopup(recId); t702_resizePopup(recId); t702__lazyLoad(); if (analitics) { Tilda.sendEventToStatistics(analitics, popupTooltipHook) } }) } }
    popup.addEventListener('scroll', t_throttle(function () { t702__lazyLoad() })); popup.addEventListener('click', function (event) { var windowWithoutScrollBar = window.innerWidth - 17; if (event.clientX > windowWithoutScrollBar) return; if (event.target === this) t702_closePopup() }); popupCloseBtn.addEventListener('click', t702_closePopup); if (submitHref) { submitHref.addEventListener('click', function () { if (documentBody.classList.contains('t-body_scroll-locked')) { documentBody.classList.remove('t-body_scroll-locked') } }) }
    for (var i = 0; i < hrefs.length; i++) { hrefs[i].addEventListener('click', function () { var url = this.getAttribute('href'); if (!url || url.substring(0, 7) != '#price:') { t702_closePopup(); if (!url || url.substring(0, 7) == '#popup:') { setTimeout(function () { documentBody.classList.add('t-body_popupshowed') }, 300) } } }) }
}
function t702_lockScroll() { var documentBody = document.body; if (!documentBody.classList.contains('t-body_scroll-locked')) { var bodyScrollTop = (typeof window.pageYOffset !== 'undefined') ? window.pageYOffset : (document.documentElement || documentBody.parentNode || documentBody).scrollTop; documentBody.classList.add('t-body_scroll-locked'); documentBody.style.top = '-' + bodyScrollTop + 'px'; documentBody.setAttribute('data-popup-scrolltop', bodyScrollTop) } }
function t702_unlockScroll() { var documentBody = document.body; if (documentBody.classList.contains('t-body_scroll-locked')) { var bodyScrollTop = documentBody.getAttribute('data-popup-scrolltop'); documentBody.classList.remove('t-body_scroll-locked'); documentBody.style.top = null; documentBody.removeAttribute('data-popup-scrolltop'); document.documentElement.scrollTop = parseInt(bodyScrollTop) } }
function t702_showPopup(recId) {
    var rec = document.getElementById('rec' + recId); if (!rec) return; var container = rec.querySelector('.t702'); if (!container) return; var popup = rec.querySelector('.t-popup'); var popupContainer = popup.querySelector('.t-popup__container'); var range = rec.querySelector('.t-range'); var documentBody = document.body; popup.style.display = 'block'; if (range) t702__triggerEvent(range, 'popupOpened'); setTimeout(function () { popupContainer.classList.add('t-popup__container-animated'); popup.classList.add('t-popup_show') }, 50); documentBody.classList.add('t-body_popupshowed'); documentBody.classList.add('t702__body_popupshowed'); if (/iPhone|iPad|iPod/i.test(navigator.userAgent) && !window.MSStream && window.isiOSVersion && window.isiOSVersion[0] === 11) { setTimeout(function () { t702_lockScroll() }, 500) }
    document.addEventListener('keydown', t702_escClosePopup); t702__lazyLoad()
}
function t702_escClosePopup(event) { if (event.key === 'Escape') t702_closePopup() }
function t702_closePopup() {
    var popupAll = document.querySelectorAll('.t-popup'); document.body.classList.remove('t-body_popupshowed'); document.body.classList.remove('t702__body_popupshowed'); for (var i = 0; i < popupAll.length; i++) { popupAll[i].classList.remove('t-popup_show') }
    if (/iPhone|iPad|iPod/i.test(navigator.userAgent) && !window.MSStream && window.isiOSVersion && window.isiOSVersion[0] === 11) { t702_unlockScroll() }
    setTimeout(function () { var popupHide = document.querySelectorAll('.t-popup:not(.t-popup_show)'); for (var i = 0; i < popupHide.length; i++) { popupHide[i].style.display = 'none' } }, 300); document.removeEventListener('keydown', t702_escClosePopup)
}
function t702_resizePopup(recId) { var rec = document.getElementById('rec' + recId); if (!rec) return; var popupContainer = rec.querySelector('.t-popup__container'); if (!popupContainer) return; var popupStyle = getComputedStyle(popupContainer, null); var popupPaddingTop = parseInt(popupStyle.paddingTop) || 0; var popupPaddingBottom = parseInt(popupStyle.paddingBottom) || 0; var popupHeight = popupContainer.clientHeight - (popupPaddingTop + popupPaddingBottom); if (popupHeight > (window.innerHeight - 120)) { popupContainer.classList.add('t-popup__container-static') } else { popupContainer.classList.remove('t-popup__container-static') } }
function t702_sendPopupEventToStatistics(popupName) {
    var virtPage = '/tilda/popup/'; var virtTitle = 'Popup: '; if (popupName.substring(0, 7) == '#popup:') { popupName = popupName.substring(7) }
    virtPage += popupName; virtTitle += popupName; if (window.Tilda && typeof Tilda.sendEventToStatistics == 'function') { Tilda.sendEventToStatistics(virtPage, virtTitle, '', 0) } else {
        if (ga) { if (window.mainTracker != 'tilda') { ga('send', { 'hitType': 'pageview', 'page': virtPage, 'title': virtTitle }) } }
        if (window.mainMetrika && window[window.mainMetrika]) { window[window.mainMetrika].hit(virtPage, { title: virtTitle, referer: window.location.href }) }
    }
}
function t702_onSuccess(form) {
    if (!(form instanceof Element)) form = form[0]; var inputsWrapper = form.querySelector('.t-form__inputsbox'); var inputsWrapperStyle = getComputedStyle(inputsWrapper, null); var inputsWrapperPaddingTop = parseInt(inputsWrapperStyle.paddingTop) || 0; var inputsWrapperPaddingBottom = parseInt(inputsWrapperStyle.paddingBottom) || 0; var inputsWrapperHeight = inputsWrapper.clientHeight - (inputsWrapperPaddingTop + inputsWrapperPaddingBottom); var inputsOffset = inputsWrapper.getBoundingClientRect().top + window.pageYOffset; var inputsBottom = inputsWrapperHeight + inputsOffset; var successBox = form.querySelector('.t-form__successbox'); var successBoxOffset = successBox.getBoundingClientRect().top + window.pageYOffset; var target = 0; var windowHeight = window.innerHeight; var body = document.body; var html = document.documentElement; var documentHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight); if (window.innerWidth > 960) { target = successBoxOffset - 200 } else { target = successBoxOffset - 100 }
    var tildaLabel = document.querySelector('.t-tildalabel'); if (successBoxOffset > window.scrollY || (documentHeight - inputsBottom) < (windowHeight - 100)) { inputsWrapper.classList.add('t702__inputsbox_hidden'); setTimeout(function () { if (windowHeight > documentHeight && tildaLabel) { t702__fadeOut(tildaLabel) } }, 300) } else { t702__scroll(target); setTimeout(function () { inputsWrapper.classList.add('t702__inputsbox_hidden') }, 400) }
    var successUrl = $(form).data('success-url'); if (successUrl) { setTimeout(function () { window.location.href = successUrl }, 500) }
}
function t702__fadeOut(el) { if (el.style.display === 'none') return; var opacity = 1; var timer = setInterval(function () { el.style.opacity = opacity; opacity -= 0.1; if (opacity <= 0.1) { clearInterval(timer); el.style.display = 'none'; el.style.opacity = null } }, 50) }
function t702__scroll(target) {
    var duration = 400; var start = (window.pageYOffset || document.documentElement.scrollTop) - (document.documentElement.clientTop || 0); var change = target - start; var currentTime = 0; var increment = 16; document.body.setAttribute('data-scrollable', 'true'); function t702__easeInOutCubic(currentTime) { if ((currentTime /= duration / 2) < 1) { return change / 2 * currentTime * currentTime * currentTime + start } else { return change / 2 * ((currentTime -= 2) * currentTime * currentTime + 2) + start } }
    function t702__animateScroll() { currentTime += increment; window.scrollTo(0, t702__easeInOutCubic(currentTime)); if (currentTime < duration) { setTimeout(t702__animateScroll, increment) } else { document.body.removeAttribute('data-scrollable') } }
    t702__animateScroll()
}
function t702__lazyLoad() { if (window.lazy === 'y' || document.getElementById('allrecords').getAttribute('data-tilda-lazy') === 'yes') { t_onFuncLoad('t_lazyload_update', function () { t_lazyload_update() }) } }
function t702__triggerEvent(el, eventName) {
    var event; if (typeof window.CustomEvent === 'function') { event = new CustomEvent(eventName) } else if (document.createEvent) { event = document.createEvent('HTMLEvents'); event.initEvent(eventName, !0, !1) } else if (document.createEventObject) { event = document.createEventObject(); event.eventType = eventName }
    event.eventName = eventName; if (el.dispatchEvent) { el.dispatchEvent(event) } else if (el.fireEvent) { el.fireEvent('on' + event.eventType, event) } else if (el[eventName]) { el[eventName]() } else if (el['on' + eventName]) { el['on' + eventName]() }
}
function t281_initPopup(recId) {
    var rec = document.getElementById('rec' + recId); if (!rec) return; var container = rec.querySelector('.t281'); if (!container) return; rec.setAttribute('data-animationappear', 'off'); rec.setAttribute('data-popup-subscribe-inited', 'y'); rec.style.opacity = 1; var documentBody = document.body; var hrefs = rec.querySelectorAll('a[href*="#"]'); var popup = rec.querySelector('.t-popup'); var popupCloseBtn = popup.querySelector('.t-popup__close'); var popupTooltipHook = popup.getAttribute('data-tooltip-hook'); var analitics = popup.getAttribute('data-track-popup'); if (popupTooltipHook) { var recBlocks = document.querySelectorAll('.r'); for (var i = 0; i < recBlocks.length; i++) { recBlocks[i].addEventListener('click', function (event) { var target = event.target; var href = target.closest('a[href="' + popupTooltipHook + '"]') ? target : !1; if (!href) return; event.preventDefault(); t281_showPopup(recId); t281_resizePopup(recId); t281__lazyLoad(); if (analitics) { Tilda.sendEventToStatistics(analitics, popupTooltipHook) } }) } }
    popup.addEventListener('scroll', t_throttle(function () { t281__lazyLoad() })); popup.addEventListener('click', function (event) { if (event.target === this) t281_closePopup() }); popupCloseBtn.addEventListener('click', t281_closePopup); for (var i = 0; i < hrefs.length; i++) { hrefs[i].addEventListener('click', function () { var url = this.getAttribute('href'); if (!url || (url.substring(0, 7) != '#price:' && url.substring(0, 7) != '#order:')) { t281_closePopup(); if (!url || url.substring(0, 7) == '#popup:') { setTimeout(function () { documentBody.classList.add('t-body_popupshowed') }, 300) } } }) }
}
function t281_lockScroll() { var documentBody = document.body; if (!documentBody.classList.contains('t-body_scroll-locked')) { var bodyScrollTop = (typeof window.pageYOffset !== 'undefined') ? window.pageYOffset : (document.documentElement || documentBody.parentNode || documentBody).scrollTop; documentBody.classList.add('t-body_scroll-locked'); documentBody.style.top = '-' + bodyScrollTop + 'px'; documentBody.setAttribute('data-popup-scrolltop', bodyScrollTop) } }
function t281_unlockScroll() { var documentBody = document.body; if (documentBody.classList.contains('t-body_scroll-locked')) { var bodyScrollTop = documentBody.getAttribute('data-popup-scrolltop'); documentBody.classList.remove('t-body_scroll-locked'); documentBody.style.top = null; documentBody.removeAttribute('data-popup-scrolltop'); document.documentElement.scrollTop = parseInt(bodyScrollTop) } }
function t281_showPopup(recId) {
    var rec = document.getElementById('rec' + recId); if (!rec) return; var container = rec.querySelector('.t281'); if (!container) return; var popup = rec.querySelector('.t-popup'); var popupContainer = popup.querySelector('.t-popup__container'); var documentBody = document.body; popup.style.display = 'block'; setTimeout(function () { popupContainer.classList.add('t-popup__container-animated'); popup.classList.add('t-popup_show') }, 50); documentBody.classList.add('t-body_popupshowed'); documentBody.classList.add('t281__body_popupshowed'); if (/iPhone|iPad|iPod/i.test(navigator.userAgent) && !window.MSStream) { setTimeout(function () { t281_lockScroll() }, 500) }
    document.addEventListener('keydown', t281_escClosePopup)
}
function t281_escClosePopup(event) { if (event.key === 'Escape') t281_closePopup() }
function t281_closePopup() {
    var popupAll = document.querySelectorAll('.t-popup'); document.body.classList.remove('t-body_popupshowed'); document.body.classList.remove('t281__body_popupshowed'); for (var i = 0; i < popupAll.length; i++) { popupAll[i].classList.remove('t-popup_show') }
    if (/iPhone|iPad|iPod/i.test(navigator.userAgent) && !window.MSStream) { t281_unlockScroll() }
    setTimeout(function () { var popupHide = document.querySelectorAll('.t-popup:not(.t-popup_show)'); for (var i = 0; i < popupHide.length; i++) { popupHide[i].style.display = 'none' } }, 300); document.removeEventListener('keydown', t281_escClosePopup)
}
function t281_resizePopup(recId) { var rec = document.getElementById('rec' + recId); if (!rec) return; var popupContainer = rec.querySelector('.t-popup__container'); if (!popupContainer) return; var popupStyle = getComputedStyle(popupContainer, null); var popupPaddingTop = parseInt(popupStyle.paddingTop) || 0; var popupPaddingBottom = parseInt(popupStyle.paddingBottom) || 0; var popupHeight = popupContainer.clientHeight - (popupPaddingTop + popupPaddingBottom); if (popupHeight > (window.innerHeight - 120)) { popupContainer.classList.add('t-popup__container-static') } else { popupContainer.classList.remove('t-popup__container-static') } }
function t281__lazyLoad() { if (window.lazy === 'y' || document.getElementById('allrecords').getAttribute('data-tilda-lazy') === 'yes') { t_onFuncLoad('t_lazyload_update', function () { t_lazyload_update() }) } }
function t708_initPopup(recId) {
    var rec = document.getElementById('rec' + recId); if (!rec) return; var container = rec.querySelector('.t708'); if (!container) return; rec.setAttribute('data-animationappear', 'off'); rec.style.opacity = 1; var popup = rec.querySelector('.t708__popup'); var analitics = popup.getAttribute('data-track-popup'); var hook = 'TildaSendMessageWidget' + recId; var button = rec.querySelector('.t708__btn'); var closeButton = popup.querySelector('.t708__mobile-icon-close'); button.addEventListener('click', function (event) {
        if (button.classList.contains('t708__btn_active')) { t708_closePopup(); return }
        button.classList.add('t708__btn_active'); container.classList.add('t708_active'); t708_showPopup(recId); event.preventDefault(); if (analitics) Tilda.sendEventToStatistics(analitics, hook)
    }); closeButton.addEventListener('click', t708_closePopup)
}
function t708_lockScroll() { var documentBody = document.body; if (!documentBody.classList.contains('t-body_scroll-locked')) { var bodyScrollTop = (typeof window.pageYOffset !== 'undefined') ? window.pageYOffset : (document.documentElement || documentBody.parentNode || documentBody).scrollTop; documentBody.classList.add('t-body_scroll-locked'); documentBody.style.top = '-' + bodyScrollTop + 'px'; documentBody.setAttribute('data-popup-scrolltop', bodyScrollTop) } }
function t708_unlockScroll() { var documentBody = document.body; if (documentBody.classList.contains('t-body_scroll-locked')) { var bodyScrollTop = documentBody.getAttribute('data-popup-scrolltop'); documentBody.classList.remove('t-body_scroll-locked'); documentBody.style.top = null; documentBody.removeAttribute('data-popup-scrolltop'); document.documentElement.scrollTop = parseInt(bodyScrollTop) } }
function t708_showPopup(recId) {
    var rec = document.getElementById('rec' + recId); if (!rec) return; var container = rec.querySelector('.t708'); if (!container) return; var range = rec.querySelector('.t-range'); var popup = rec.querySelector('.t708__popup'); var buttonWrapper = rec.querySelector('.t708__btn_wrapper'); var buttonText = rec.querySelector('.t708__btn-text'); var documentBody = document.body; if (buttonWrapper) buttonWrapper.classList.remove('t651__btn_animate'); if (buttonText) buttonText.style.display = 'none'; if (window.innerWidth < 960) documentBody.classList.add('t708__body_popupshowed'); if (/iPhone|iPad|iPod/i.test(navigator.userAgent) && !window.MSStream) { setTimeout(function () { t708_lockScroll() }, 500) }
    popup.style.display = 'block'; if (range) t708__triggerEvent(range, 'popupOpened'); setTimeout(function () { popup.classList.add('t708__popup_show') }, 50); document.addEventListener('keydown', t708_escClosePopup)
}
function t708_escClosePopup(event) { if (event.key === 'Escape') t708_closePopup() }
function t708_closePopup() {
    if (window.innerWidth < 960) document.body.classList.remove('t708__body_popupshowed'); if (/iPhone|iPad|iPod/i.test(navigator.userAgent) && !window.MSStream) { t708_unlockScroll() }
    var containers = document.querySelectorAll('.t708'); var buttons = document.querySelectorAll('.t708__btn'); var popups = document.querySelectorAll('.t708__popup'); for (var i = 0; i < containers.length; i++) { containers[i].classList.remove('t708_active') }
    for (var i = 0; i < buttons.length; i++) { buttons[i].classList.remove('t708__btn_active') }
    for (var i = 0; i < popups.length; i++) { popups[i].classList.remove('t708__popup_show') }
    setTimeout(function () { var popupHide = document.querySelectorAll('.t708__popup:not(.t708__popup_show)'); for (var i = 0; i < popupHide.length; i++) { popupHide[i].style.display = 'none' } }, 300); document.removeEventListener('keydown', t708_escClosePopup)
}
function t708_onSuccess(form) {
    if (!(form instanceof Element)) form = form[0]; var inputWrapper = form.querySelector('.t-form__inputsbox'); var inputWrapperStyle = getComputedStyle(inputWrapper, null); var inputWrapperPaddingTop = parseInt(inputWrapperStyle.paddingTop) || 0; var inputWrapperPaddingBottom = parseInt(inputWrapperStyle.paddingBottom) || 0; var inputWrapperHeight = inputWrapper.clientHeight - (inputWrapperPaddingTop + inputWrapperPaddingBottom); var inputOffset = inputWrapper.getBoundingClientRect().top + window.pageYOffset; var inputBottom = inputWrapperHeight + inputOffset; var successBox = form.querySelector('.t-form__successbox'); var successBoxOffset = successBox.getBoundingClientRect().top + window.pageYOffset; var target = 0; var windowHeight = window.innerHeight; var body = document.body; var html = document.documentElement; var documentHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight); if (window.innerWidth > 960) { target = successBoxOffset - 200 } else { target = successBoxOffset - 100 }
    var tildaLabel = document.querySelector('.t-tildalabel'); if (successBoxOffset > window.scrollY || (documentHeight - inputBottom) < (windowHeight - 100)) { inputWrapper.classList.add('t708__inputsbox_hidden'); setTimeout(function () { if (windowHeight > documentHeight && tildaLabel) { t708__fadeOut(tildaLabel) } }, 300) } else { t708__scroll(target); setTimeout(function () { inputWrapper.classList.add('t708__inputsbox_hidden') }, 400) }
    var successUrl = $(form).data('success-url'); if (successUrl) { setTimeout(function () { window.location.href = successUrl }, 500) }
}
function t708__fadeOut(el) { if (el.style.display === 'none') return; var opacity = 1; var timer = setInterval(function () { el.style.opacity = opacity; opacity -= 0.1; if (opacity <= 0.1) { clearInterval(timer); el.style.display = 'none'; el.style.opacity = null } }, 50) }
function t708__scroll(target) {
    var duration = 400; var start = (window.pageYOffset || document.documentElement.scrollTop) - (document.documentElement.clientTop || 0); var change = target - start; var currentTime = 0; var increment = 16; document.body.setAttribute('data-scrollable', 'true'); function t708__easeInOutCubic(currentTime) { if ((currentTime /= duration / 2) < 1) { return change / 2 * currentTime * currentTime * currentTime + start } else { return change / 2 * ((currentTime -= 2) * currentTime * currentTime + 2) + start } }
    function t708__animateScroll() { currentTime += increment; window.scrollTo(0, t708__easeInOutCubic(currentTime)); if (currentTime < duration) { setTimeout(t708__animateScroll, increment) } else { document.body.removeAttribute('data-scrollable') } }
    t708__animateScroll()
}
function t708__triggerEvent(el, eventName) {
    var event; if (typeof window.CustomEvent === 'function') { event = new CustomEvent(eventName) } else if (document.createEvent) { event = document.createEvent('HTMLEvents'); event.initEvent(eventName, !0, !1) } else if (document.createEventObject) { event = document.createEventObject(); event.eventType = eventName }
    event.eventName = eventName; if (el.dispatchEvent) { el.dispatchEvent(event) } else if (el.fireEvent) { el.fireEvent('on' + event.eventType, event) } else if (el[eventName]) { el[eventName]() } else if (el['on' + eventName]) { el['on' + eventName]() }
    if (t708__checkJqueryEvent(el, eventName)) { $(el).trigger(eventName) }
}
function t708__checkJqueryEvent(element, eventName) {
    var events = $._data(element, 'events') || !1; var isEvent = !1; if (events) { for (var key in events) { if (key === eventName) { isEvent = !0; break } } }
    return isEvent
}
function t390_initPopup(recId) {
    var rec = document.getElementById('rec' + recId); if (!rec) return; var container = rec.querySelector('.t390'); if (!container) return; rec.setAttribute('data-animationappear', 'off'); rec.style.opacity = 1; var popup = rec.querySelector('.t-popup'); var popupTooltipHook = popup.getAttribute('data-tooltip-hook'); var analitics = popup.getAttribute('data-track-popup'); var popupCloseBtn = popup.querySelector('.t-popup__close'); var hrefs = rec.querySelectorAll('a[href*="#"]'); var escapeEvent = t390_escClosePopup.bind(this, recId); if (popupTooltipHook) { var recBlocks = document.querySelectorAll('.r'); for (var i = 0; i < recBlocks.length; i++) { recBlocks[i].addEventListener('click', function (event) { var target = event.target; var href = target.closest('a[href="' + popupTooltipHook + '"]') ? target : !1; if (!href) return; event.preventDefault(); t390_showPopup(recId, escapeEvent); t390_resizePopup(recId); t390__lazyLoad(); if (analitics) { Tilda.sendEventToStatistics(analitics, popupTooltipHook) } }) } }
    popup.addEventListener('scroll', t_throttle(function () { t390__lazyLoad() })); popup.addEventListener('click', function (event) { if (event.target === this) t390_closePopup(recId, escapeEvent) }); popupCloseBtn.addEventListener('click', function () { t390_closePopup(recId, escapeEvent) }); for (var i = 0; i < hrefs.length; i++) { hrefs[i].addEventListener('click', function () { var url = this.getAttribute('href'); if (!url || url.substring(0, 7) != '#price:') { t390_closePopup(recId, escapeEvent); if (!url || url.substring(0, 7) == '#popup:') { setTimeout(function () { document.body.classList.add('t-body_popupshowed') }, 300) } } }) }
    var curPath = window.location.pathname; var curFullPath = window.location.origin + curPath; var isAndroid = /(android)/i.test(navigator.userAgent); if (isAndroid) { var selects = 'a[href^="#"]:not([href="#"]):not([href^="#price"]):not([href^="#popup"]):not([href^="#prodpopup"]):not([href^="#order"]):not([href^="#!"]),' + 'a[href^="' + curPath + '#"]:not([href*="#!/tproduct/"]):not([href*="#!/tab/"]):not([href*="#popup"]),' + 'a[href^="' + curFullPath + '#"]:not([href*="#!/tproduct/"]):not([href*="#!/tab/"]):not([href*="#popup"])'; var selectors = rec.querySelectorAll(selects); for (var i = 0; i < selectors.length; i++) { selectors[i].addEventListener('click', function (event) { var hash = this.hash.trim(); if (window.location.hash) { setTimeout(function () { window.location.href = hash }, 50) } }) } }
    function t390_escClosePopup(recId) { if (arguments[1].key === 'Escape') t390_closePopup(recId, escapeEvent) }
}
function t390_showPopup(recId, escapeEvent) { var rec = document.getElementById('rec' + recId); if (!rec) return; var container = rec.querySelector('.t390'); if (!container) return; var popup = rec.querySelector('.t-popup'); var popupContainer = popup.querySelector('.t-popup__container'); var documentBody = document.body; popup.style.display = 'block'; setTimeout(function () { popupContainer.classList.add('t-popup__container-animated'); popup.classList.add('t-popup_show') }, 50); documentBody.classList.add('t-body_popupshowed'); documentBody.classList.add('t390__body_popupshowed'); document.addEventListener('keydown', escapeEvent) }
function t390_closePopup(recId, escapeEvent) {
    var rec = document.getElementById('rec' + recId); var popup = rec.querySelector('.t-popup'); var popupActive = document.querySelector('.t-popup.t-popup_show'); if (popup === popupActive) { document.body.classList.remove('t-body_popupshowed'); document.body.classList.remove('t390__body_popupshowed') }
    popup.classList.remove('t-popup_show'); setTimeout(function () { var popupHide = document.querySelectorAll('.t-popup:not(.t-popup_show)'); for (var i = 0; i < popupHide.length; i++) { popupHide[i].style.display = 'none' } }, 300); document.removeEventListener('keydown', escapeEvent)
}
function t390_resizePopup(recId) { var rec = document.getElementById('rec' + recId); if (!rec) return; var popupContainer = rec.querySelector('.t-popup__container'); if (!popupContainer) return; var popupStyle = getComputedStyle(popupContainer, null); var popupPaddingTop = parseInt(popupStyle.paddingTop) || 0; var popupPaddingBottom = parseInt(popupStyle.paddingBottom) || 0; var popupHeight = popupContainer.clientHeight - (popupPaddingTop + popupPaddingBottom); if (popupHeight > (window.innerHeight - 120)) { popupContainer.classList.add('t-popup__container-static') } else { popupContainer.classList.remove('t-popup__container-static') } }
function t390_sendPopupEventToStatistics(popupName) {
    var virtPage = '/tilda/popup/'; var virtTitle = 'Popup: '; if (popupName.substring(0, 7) == '#popup:') { popupName = popupName.substring(7) }
    virtPage += popupName; virtTitle += popupName; if (window.Tilda && typeof Tilda.sendEventToStatistics == 'function') { Tilda.sendEventToStatistics(virtPage, virtTitle, '', 0) } else {
        if (ga) { if (window.mainTracker != 'tilda') { ga('send', { 'hitType': 'pageview', 'page': virtPage, 'title': virtTitle }) } }
        if (window.mainMetrika && window[window.mainMetrika]) { window[window.mainMetrika].hit(virtPage, { title: virtTitle, referer: window.location.href }) }
    }
}
function t390__lazyLoad() { if (window.lazy === 'y' || document.getElementById('allrecords').getAttribute('data-tilda-lazy') === 'yes') { t_onFuncLoad('t_lazyload_update', function () { t_lazyload_update() }) } }